{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { defineComponent, ref } from 'vue';\nimport EButton from \"@/components/elements/EButton\";\nexport default defineComponent({\n  name: \"EUpload\",\n  emits: ['update'],\n  components: {\n    EButton\n  },\n  setup(props, {\n    emit\n  }) {\n    const inputRef = ref(null);\n    const handleChange = e => {\n      const files = [];\n      if (e.target.files) {\n        // Ищем файлы от события добавления input[type=\"file\"]\n        for (const file of e.target.files) {\n          files.push(file);\n        }\n      }\n\n      // Если никакие файлы не найдены\n      if (!files) return;\n      const file = files[0];\n      emit('update', file);\n    };\n    const addFile = () => {\n      inputRef.value.value = null;\n      inputRef.value.click();\n    };\n    return {\n      inputRef,\n      handleChange,\n      addFile\n    };\n  }\n});","map":{"version":3,"names":["defineComponent","ref","EButton","name","emits","components","setup","props","emit","inputRef","handleChange","e","files","target","file","push","addFile","value","click"],"sources":["C:\\Users\\Денис\\IdeaProjects\\Diplom\\netology-diplom-frontend\\src\\components\\elements\\EUpload.vue"],"sourcesContent":["<template>\n    <div class=\"e-upload\">\n        <input ref=\"inputRef\"\n               class=\"e-upload__input\"\n               name='file'\n               type=\"file\"\n               @change=\"handleChange\">\n\n        <EButton @click=\"addFile\">\n            Добавить\n        </EButton>\n    </div>\n</template>\n\n<script>\n    import {defineComponent, ref} from 'vue';\n    import EButton from \"@/components/elements/EButton\";\n\n    export default defineComponent({\n        name: \"EUpload\",\n        emits: ['update'],\n        components: {\n            EButton\n        },\n        setup(props, {emit}) {\n            const inputRef = ref(null);\n\n            const handleChange = (e) => {\n                const files = [];\n\n                if (e.target.files) {\n                    // Ищем файлы от события добавления input[type=\"file\"]\n                    for (const file of e.target.files) {\n                        files.push(file);\n                    }\n                }\n\n                // Если никакие файлы не найдены\n                if (!files) return;\n\n                const file = files[0];\n\n                emit('update', file);\n            };\n\n            const addFile = () => {\n                inputRef.value.value = null;\n                inputRef.value.click();\n            };\n\n            return {\n                inputRef,\n                handleChange,\n                addFile\n            };\n        },\n    });\n</script>\n\n<style lang=\"scss\" scoped>\n    .e-upload {\n        &__input {\n            display: none;\n        }\n    }\n</style>\n"],"mappings":";AAeI,SAAQA,eAAe,EAAEC,GAAG,QAAO,KAAK;AACxC,OAAOC,OAAM,MAAO,+BAA+B;AAEnD,eAAeF,eAAe,CAAC;EAC3BG,IAAI,EAAE,SAAS;EACfC,KAAK,EAAE,CAAC,QAAQ,CAAC;EACjBC,UAAU,EAAE;IACRH;EACJ,CAAC;EACDI,KAAKA,CAACC,KAAK,EAAE;IAACC;EAAI,CAAC,EAAE;IACjB,MAAMC,QAAO,GAAIR,GAAG,CAAC,IAAI,CAAC;IAE1B,MAAMS,YAAW,GAAKC,CAAC,IAAK;MACxB,MAAMC,KAAI,GAAI,EAAE;MAEhB,IAAID,CAAC,CAACE,MAAM,CAACD,KAAK,EAAE;QAChB;QACA,KAAK,MAAME,IAAG,IAAKH,CAAC,CAACE,MAAM,CAACD,KAAK,EAAE;UAC/BA,KAAK,CAACG,IAAI,CAACD,IAAI,CAAC;QACpB;MACJ;;MAEA;MACA,IAAI,CAACF,KAAK,EAAE;MAEZ,MAAME,IAAG,GAAIF,KAAK,CAAC,CAAC,CAAC;MAErBJ,IAAI,CAAC,QAAQ,EAAEM,IAAI,CAAC;IACxB,CAAC;IAED,MAAME,OAAM,GAAIA,CAAA,KAAM;MAClBP,QAAQ,CAACQ,KAAK,CAACA,KAAI,GAAI,IAAI;MAC3BR,QAAQ,CAACQ,KAAK,CAACC,KAAK,EAAE;IAC1B,CAAC;IAED,OAAO;MACHT,QAAQ;MACRC,YAAY;MACZM;IACJ,CAAC;EACL;AACJ,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}